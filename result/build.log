Mock Version: 1.3.5
ENTER ['do'](['bash', '--login', '-c', '/usr/bin/rpmbuild -bs --target x86_64 --nodeps /builddir/build/SPECS/hellorpm.spec'], nspawn_args=[]shell=Falseuid=500env={'LANG': 'zh_CN.UTF-8', 'TERM': 'vt100', 'SHELL': '/bin/bash', 'HOSTNAME': 'mock', 'PROMPT_COMMAND': 'printf "\\033]0;<mock-chroot>\\007"', 'HOME': '/builddir', 'PATH': '/usr/bin:/bin:/usr/sbin:/sbin', 'PS1': '<mock-chroot> \\s-\\v\\$ '}chrootPath='/var/lib/mock/epel-7-x86_64/root'gid=135user='mockbuild'timeout=0logger=<mockbuild.trace_decorator.getLog object at 0x27b8d10>printOutput=True)
Executing command: ['bash', '--login', '-c', '/usr/bin/rpmbuild -bs --target x86_64 --nodeps /builddir/build/SPECS/hellorpm.spec'] with env {'LANG': 'zh_CN.UTF-8', 'TERM': 'vt100', 'SHELL': '/bin/bash', 'HOSTNAME': 'mock', 'PROMPT_COMMAND': 'printf "\\033]0;<mock-chroot>\\007"', 'HOME': '/builddir', 'PATH': '/usr/bin:/bin:/usr/sbin:/sbin', 'PS1': '<mock-chroot> \\s-\\v\\$ '} and shell False
构建目标平台：x86_64
为目标x86_64构建
写道:/builddir/build/SRPMS/hellorpm-0.0.1-1.src.rpm
Child return code was: 0
ENTER ['do'](['bash', '--login', '-c', u'/usr/bin/rpmbuild -bb --target x86_64 --nodeps /builddir/build/SPECS/hellorpm.spec'], nspawn_args=[]shell=Falseuid=500env={'LANG': 'zh_CN.UTF-8', 'TERM': 'vt100', 'SHELL': '/bin/bash', 'HOSTNAME': 'mock', 'PROMPT_COMMAND': 'printf "\\033]0;<mock-chroot>\\007"', 'HOME': '/builddir', 'PATH': '/usr/bin:/bin:/usr/sbin:/sbin', 'PS1': '<mock-chroot> \\s-\\v\\$ '}chrootPath='/var/lib/mock/epel-7-x86_64/root'gid=135user='mockbuild'timeout=0logger=<mockbuild.trace_decorator.getLog object at 0x27b8d10>printOutput=True)
Executing command: ['bash', '--login', '-c', u'/usr/bin/rpmbuild -bb --target x86_64 --nodeps /builddir/build/SPECS/hellorpm.spec'] with env {'LANG': 'zh_CN.UTF-8', 'TERM': 'vt100', 'SHELL': '/bin/bash', 'HOSTNAME': 'mock', 'PROMPT_COMMAND': 'printf "\\033]0;<mock-chroot>\\007"', 'HOME': '/builddir', 'PATH': '/usr/bin:/bin:/usr/sbin:/sbin', 'PS1': '<mock-chroot> \\s-\\v\\$ '} and shell False
构建目标平台：x86_64
为目标x86_64构建
执行(%prep): /bin/sh -e /var/tmp/rpm-tmp.Gjhvr0
+ umask 022
+ cd /builddir/build/BUILD
+ cd /builddir/build/SOURCES
+ tar -xvf /builddir/build/SOURCES/hellorpm-0.0.1-1.x86_64.tar.gz
hellorpm-0.0.1-1.x86_64/
hellorpm-0.0.1-1.x86_64/Makefile-simpleuser
hellorpm-0.0.1-1.x86_64/Makefile
hellorpm-0.0.1-1.x86_64/Makefile-0.0.1
hellorpm-0.0.1-1.x86_64/max.h
hellorpm-0.0.1-1.x86_64/README.md
hellorpm-0.0.1-1.x86_64/test-main.c
hellorpm-0.0.1-1.x86_64/max.c
hellorpm-0.0.1-1.x86_64/swap.h
hellorpm-0.0.1-1.x86_64/swap.c
hellorpm-0.0.1-1.x86_64/configure
hellorpm-0.0.1-1.x86_64/Makefile-root
+ exit 0
执行(%build): /bin/sh -e /var/tmp/rpm-tmp.he7aIt
+ umask 022
+ cd /builddir/build/BUILD
+ cd /builddir/build/SOURCES/hellorpm-0.0.1-1.x86_64
+ CFLAGS='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches   -m64 -mtune=generic'
+ export CFLAGS
+ CXXFLAGS='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches   -m64 -mtune=generic'
+ export CXXFLAGS
+ FFLAGS='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches   -m64 -mtune=generic -I/usr/lib64/gfortran/modules'
+ export FFLAGS
+ FCFLAGS='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches   -m64 -mtune=generic -I/usr/lib64/gfortran/modules'
+ export FCFLAGS
+ LDFLAGS='-Wl,-z,relro '
+ export LDFLAGS
+ '[' 1 == 1 ']'
+ '[' x86_64 == ppc64le ']'
++ find . -name config.guess -o -name config.sub
+ ./configure --build=x86_64-redhat-linux-gnu --host=x86_64-redhat-linux-gnu --program-prefix= --disable-dependency-tracking --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --sysconfdir=/etc --datadir=/usr/share --includedir=/usr/include --libdir=/usr/lib64 --libexecdir=/usr/libexec --localstatedir=/var --sharedstatedir=/var/lib --mandir=/usr/share/man --infodir=/usr/share/info
this is config file
/builddir
+ make -j4
gcc -o max.o -c max.c
gcc -o swap.o -c swap.c
gcc -o test-main.o -c test-main.c
gcc -o test-main swap.o max.o test-main.o
+ exit 0
执行(%install): /bin/sh -e /var/tmp/rpm-tmp.W3yFiX
+ umask 022
+ cd /builddir/build/BUILD
+ '[' /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64 '!=' / ']'
+ rm -rf /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64
++ dirname /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64
+ mkdir -p /builddir/build/BUILDROOT
+ mkdir /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64
+ rm -rf /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64
+ cd /builddir/build/SOURCES/hellorpm-0.0.1-1.x86_64
+ make install
mkdir -p /builddir/bin
echo mkdir -p /builddir/bin >> /tmp/chaofeirpm.log
cp test-main /builddir/bin/test-main
chmod a+x /builddir/bin/test-main
#cp test-main /usr/bin/test-main
#chmod a+x /usr/bin/test-main
echo /builddir/bin/test-main
/builddir/bin/test-main
/builddir/bin/test-main
max(2, 8) = 8
change begin a=2 b=8
change end a=8 b=2
Hello, I'm chaofei
This is a test of rpm build
echo /builddir/bin/test-main >> /tmp/chaofeirpm.log
+ cp -r /builddir/build/SOURCES/hellorpm-0.0.1-1.x86_64 /builddir/build/BUILDROOT/
+ /usr/lib/rpm/check-buildroot
+ /usr/lib/rpm/redhat/brp-compress
+ /usr/lib/rpm/redhat/brp-strip /usr/bin/strip
+ /usr/lib/rpm/redhat/brp-strip-comment-note /usr/bin/strip /usr/bin/objdump
+ /usr/lib/rpm/redhat/brp-strip-static-archive /usr/bin/strip
+ /usr/lib/rpm/brp-python-bytecompile /usr/bin/python 1
+ /usr/lib/rpm/redhat/brp-python-hardlink
+ /usr/lib/rpm/redhat/brp-java-repack-jars
处理文件：hellorpm-0.0.1-1.x86_64
Provides: hellorpm = 0.0.1-1 hellorpm(x86-64) = 0.0.1-1
Requires(interp): /bin/sh /bin/sh
Requires(rpmlib): rpmlib(CompressedFileNames) <= 3.0.4-1 rpmlib(FileDigests) <= 4.6.0-1 rpmlib(PayloadFilesHavePrefix) <= 4.0-1
Requires(post): /bin/sh
Requires(postun): /bin/sh
Requires: libc.so.6()(64bit) libc.so.6(GLIBC_2.2.5)(64bit) rtld(GNU_HASH)
检查未打包文件：/usr/lib/rpm/check-files /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64
写道:/builddir/build/RPMS/hellorpm-0.0.1-1.x86_64.rpm
执行(%clean): /bin/sh -e /var/tmp/rpm-tmp.ISGRCi
+ umask 022
+ cd /builddir/build/BUILD
+ rm -rf /builddir/build/BUILDROOT/hellorpm-0.0.1-1.x86_64
+ exit 0
Child return code was: 0
