cc=gcc
prom=test-main
deps=max.h swap.h
obj=test-main.o max.o swap.o

$(prom):$(obj)
	$(cc) -o $(prom) $(obj)

test-main.o: test-main.c $(deps)
	$(cc) -c test-main.c
max.o: max.c $(deps)
	$(cc) -c max.c
swap.o: swap.c $(deps)
	$(cc) -c swap.c

clean:
	rm -f max.o swap.o test-main.o test-main
install:
	mkdir -p ${HOME}/bin
	echo mkdir -p ${HOME}/bin >> /tmp/chaofeirpm.log
	cp test-main ${HOME}/bin/test-main
	chmod a+x ${HOME}/bin/test-main
	#cp test-main /usr/bin/test-main
	#chmod a+x /usr/bin/test-main
	echo ${HOME}/bin/test-main
	${HOME}/bin/test-main
	echo ${HOME}/bin/test-main >> /tmp/chaofeirpm.log
uninstall:
	rm -f ${HOME}/bin/test-main
	#rm -f /usr/bin/test-main
	rm -f /tmp/chaofeirpm.log
